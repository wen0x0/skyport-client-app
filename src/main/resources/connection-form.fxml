<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.ProgressIndicator?>

<AnchorPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="com.example.SFTPClientController"
    style="-fx-background-color: #f5f7fa; -fx-min-width: 420; -fx-pref-width: 450;">
    <children>
        <VBox alignment="CENTER" spacing="14.0" AnchorPane.bottomAnchor="10.0"
            AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="10.0">

            <!-- Header Section -->
            <VBox alignment="CENTER" spacing="3.0">
                <children>
                    <Label text="Skyport Client Connection" textAlignment="CENTER"
                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-size: 20px; -fx-font-weight: 600; -fx-text-fill: #2c3e50;" />
                    <Label text="Secure File Transfer Protocol" textAlignment="CENTER"
                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-size: 11px; -fx-text-fill: #7f8c8d; -fx-font-weight: 400;" />
                </children>
            </VBox>

            <!-- Main Form Container -->
            <VBox minWidth="300.0" maxWidth="500.0" spacing="12.0" VBox.vgrow="ALWAYS"
                style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding: 16; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 2);">
                <children>

                    <!-- Server Configuration -->
                    <VBox spacing="10.0">
                        <children>
                            <Label text="Server Configuration"
                                style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 600; -fx-font-size: 12px; -fx-text-fill: #2c3e50;" />

                            <!-- IP Address Field -->
                            <VBox spacing="3.0">
                                <children>
                                    <Label text="IP Address *"
                                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 500; -fx-font-size: 10px; -fx-text-fill: #34495e;" />
                                    <TextField fx:id="ipAddressField" promptText="192.168.1.100"
                                        style="-fx-pref-height: 30; -fx-font-size: 11px; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd; -fx-background-color: #fafafa; -fx-padding: 0 8 0 8; -fx-prompt-text-fill: #999;" />
                                </children>
                            </VBox>

                            <!-- Port Field -->
                            <VBox spacing="3.0">
                                <children>
                                    <Label text="Port *"
                                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 500; -fx-font-size: 10px; -fx-text-fill: #34495e;" />
                                    <TextField fx:id="portField" promptText="22"
                                        style="-fx-pref-height: 30; -fx-font-size: 11px; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd; -fx-background-color: #fafafa; -fx-padding: 0 8 0 8; -fx-prompt-text-fill: #999;" />
                                </children>
                            </VBox>

                            <!-- Known Hosts Path -->
                            <VBox spacing="3.0">
                                <children>
                                    <Label text="Known Hosts Key Path"
                                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 500; -fx-font-size: 10px; -fx-text-fill: #34495e;" />
                                    <HBox spacing="5.0" alignment="CENTER_LEFT">
                                        <children>
                                            <TextField fx:id="knownHostsField"
                                                promptText="~/.ssh/known_hosts"
                                                style="-fx-pref-height: 30; -fx-font-size: 11px; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd; -fx-background-color: #fafafa; -fx-padding: 0 8 0 8; -fx-prompt-text-fill: #999;"
                                                HBox.hgrow="ALWAYS" />
                                            <Button fx:id="browseButton" mnemonicParsing="false"
                                                onAction="#browseKnownHosts"
                                                text="Browse"
                                                style="-fx-pref-height: 30; -fx-pref-width: 60; -fx-background-color: #34495e; -fx-text-fill: white; -fx-background-radius: 5; -fx-border-radius: 5; -fx-font-size: 10px; -fx-cursor: hand; -fx-font-weight: 500;" />
                                        </children>
                                    </HBox>
                                </children>
                            </VBox>
                        </children>
                    </VBox>

                    <!-- Separator -->
                    <Separator style="-fx-background-color: #ecf0f1;" />

                    <!-- Authentication Section -->
                    <VBox spacing="10.0">
                        <children>
                            <Label text="Authentication"
                                style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 600; -fx-font-size: 12px; -fx-text-fill: #2c3e50;" />

                            <!-- Username Field -->
                            <VBox spacing="3.0">
                                <children>
                                    <Label text="Username *"
                                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 500; -fx-font-size: 10px; -fx-text-fill: #34495e;" />
                                    <TextField fx:id="usernameField" promptText="Enter username"
                                        style="-fx-pref-height: 30; -fx-font-size: 11px; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd; -fx-background-color: #fafafa; -fx-padding: 0 8 0 8; -fx-prompt-text-fill: #999;" />
                                </children>
                            </VBox>

                            <!-- Password Field -->
                            <VBox spacing="3.0">
                                <children>
                                    <Label text="Password *"
                                        style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-font-weight: 500; -fx-font-size: 10px; -fx-text-fill: #34495e;" />
                                    <PasswordField fx:id="passwordField" promptText="Enter password"
                                        style="-fx-pref-height: 30; -fx-font-size: 11px; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd; -fx-background-color: #fafafa; -fx-padding: 0 8 0 8; -fx-prompt-text-fill: #999;" />
                                </children>
                            </VBox>
                        </children>
                    </VBox>

                    <!-- Connection Options -->
                    <VBox spacing="6.0">
                        <children>
                            <CheckBox fx:id="savePasswordCheckBox" mnemonicParsing="false"
                                text="Remember password"
                                style="-fx-font-size: 10px; -fx-text-fill: #34495e;" />
                            <CheckBox fx:id="autoConnectCheckBox" mnemonicParsing="false"
                                text="Auto-connect on startup"
                                style="-fx-font-size: 10px; -fx-text-fill: #34495e;" />
                        </children>
                    </VBox>

                    <!-- Action Buttons -->
                    <VBox alignment="CENTER" spacing="6.0">
                        <children>
                            <Button fx:id="testConnectionButton" mnemonicParsing="false"
                                onAction="#testConnection"
                                text="Test Connection"
                                style="-fx-pref-height: 32; -fx-pref-width: 150; -fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 5; -fx-font-size: 11px;" />
                            <Button fx:id="connectButton" mnemonicParsing="false"
                                onAction="#connect"
                                text="Connect"
                                style="-fx-pref-height: 32; -fx-pref-width: 150; -fx-background-color: #2ecc71; -fx-text-fill: white; -fx-background-radius: 5; -fx-font-size: 11px;" />

                            <Button fx:id="cancelButton" mnemonicParsing="false" onAction="#cancel"
                                text="Cancel"
                                style="-fx-pref-height: 32; -fx-pref-width: 150; -fx-background-color: #95a5a6; -fx-text-fill: white; -fx-background-radius: 5; -fx-font-size: 11px;" />
                            <ProgressIndicator fx:id="loadingSpinner" visible="false"
                                style="-fx-pref-width: 24; -fx-pref-height: 24;" />
                        </children>
                    </VBox>
                </children>
            </VBox>

            <!-- Footer -->
            <VBox alignment="CENTER" spacing="2.0">
                <children>
                    <Label text="* Required fields"
                        style="-fx-font-size: 9px; -fx-text-fill: #7f8c8d; -fx-font-style: italic;" />
                    <Label text="Ensure your SFTP server is running and accessible"
                        style="-fx-font-size: 9px; -fx-text-fill: #95a5a6;" />
                </children>
            </VBox>
        </VBox>
    </children>
</AnchorPane>