<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="com.example.SFTPClientController"
    style="-fx-background-color: #f8fafc;">

    <center>
        <VBox spacing="16" alignment="CENTER" maxWidth="420" maxHeight="500"
            style="-fx-padding: 20; -fx-background-color: #ffffff; 
                   -fx-background-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 12, 0, 0, 2);">

            <!-- Compact Header -->
            <VBox spacing="6" alignment="CENTER" style="-fx-padding: 0 0 12 0;">
                <Label text="Skyport Client"
                    style="-fx-font-size: 22px; -fx-font-weight: 600; -fx-text-fill: #1f2937;" />
                <Label text="SFTP Connection"
                    style="-fx-font-size: 12px; -fx-text-fill: #6b7280;" />
            </VBox>

            <!-- Server Section -->
            <VBox spacing="12" 
                style="-fx-padding: 16; -fx-background-color: #f9fafb; -fx-background-radius: 6; -fx-border-color: #e5e7eb; -fx-border-width: 1; -fx-border-radius: 6;">
                
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="Server" style="-fx-font-size: 14px; -fx-font-weight: 500; -fx-text-fill: #374151;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="browseSKPButton" onAction="#browseSKPFile" text=".skp"
                        prefWidth="40" prefHeight="24"
                        style="-fx-background-color: #4f46e5; -fx-text-fill: white; -fx-background-radius: 4;
                               -fx-font-size: 10px; -fx-font-weight: 500; -fx-cursor: hand;" >
                        <tooltip>
                            <Tooltip text="Load server config from .skp file"/>
                        </tooltip>
                    </Button>
                </HBox>

                <TextField fx:id="ipAddressField"
                    promptText="Server address (e.g. 192.168.1.100)"
                    prefHeight="32"
                    disable="true"
                    style="-fx-background-color: #ffffff; -fx-border-color: #d1d5db; -fx-border-width: 1; -fx-background-radius: 4; -fx-border-radius: 4;
                           -fx-padding: 0 10; -fx-font-size: 12px; -fx-focus-color: #4f46e5; -fx-prompt-text-fill: #9ca3af;" />

                <HBox spacing="10">
                    <VBox spacing="4" prefWidth="70">
                        <Label text="Port" style="-fx-font-size: 11px; -fx-text-fill: #6b7280; -fx-font-weight: 500;" />
                        <TextField fx:id="portField" promptText="22" text="22"
                            prefHeight="32"
                            disable="true"
                            style="-fx-background-color: #ffffff; -fx-border-color: #d1d5db; -fx-border-width: 1; -fx-background-radius: 4; -fx-border-radius: 4;
                                   -fx-padding: 0 8; -fx-font-size: 12px; -fx-focus-color: #4f46e5; -fx-prompt-text-fill: #9ca3af;" />
                    </VBox>

                    <VBox spacing="4" HBox.hgrow="ALWAYS">
                        <Label text="Known Hosts" style="-fx-font-size: 11px; -fx-text-fill: #6b7280; -fx-font-weight: 500;" />
                        <HBox spacing="6">
                            <TextField fx:id="knownHostsField" promptText="known_hosts path"
                                HBox.hgrow="ALWAYS" prefHeight="32"
                                disable="true"
                                style="-fx-background-color: #ffffff; -fx-border-color: #d1d5db; -fx-border-width: 1; -fx-background-radius: 4; -fx-border-radius: 4;
                                       -fx-padding: 0 10; -fx-font-size: 12px; -fx-focus-color: #4f46e5; -fx-prompt-text-fill: #9ca3af;" />

                            <Button fx:id="browseButton" onAction="#browseKnownHosts" text="..."
                                prefWidth="32" prefHeight="32"
                                disable="true"
                                style="-fx-background-color: #f3f4f6; -fx-text-fill: #4b5563; -fx-background-radius: 4;
                                       -fx-font-size: 12px; -fx-cursor: hand; -fx-border-color: #d1d5db; -fx-border-width: 1; -fx-border-radius: 4;" />
                        </HBox>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Auth Section -->
            <VBox spacing="12"
                style="-fx-padding: 16; -fx-background-color: #f0fdf4; -fx-background-radius: 6; -fx-border-color: #bbf7d0; -fx-border-width: 1; -fx-border-radius: 6;">
                
                <Label text="Authentication" style="-fx-font-size: 14px; -fx-font-weight: 500; -fx-text-fill: #166534;" />

                <HBox spacing="10">
                    <VBox spacing="4" HBox.hgrow="ALWAYS">
                        <Label text="Username" style="-fx-font-size: 11px; -fx-text-fill: #15803d; -fx-font-weight: 500;" />
                        <TextField fx:id="usernameField" promptText="Username"
                            prefHeight="32"
                            style="-fx-background-color: #ffffff; -fx-border-color: #bbf7d0; -fx-border-width: 1; -fx-background-radius: 4; -fx-border-radius: 4;
                                   -fx-padding: 0 10; -fx-font-size: 12px; -fx-focus-color: #10b981; -fx-prompt-text-fill: #9ca3af;" />
                    </VBox>

                    <VBox spacing="4" HBox.hgrow="ALWAYS">
                        <Label text="Password" style="-fx-font-size: 11px; -fx-text-fill: #15803d; -fx-font-weight: 500;" />
                        <PasswordField fx:id="passwordField" promptText="Password"
                            prefHeight="32"
                            style="-fx-background-color: #ffffff; -fx-border-color: #bbf7d0; -fx-border-width: 1; -fx-background-radius: 4; -fx-border-radius: 4;
                                   -fx-padding: 0 10; -fx-font-size: 12px; -fx-focus-color: #10b981; -fx-prompt-text-fill: #9ca3af;" />
                    </VBox>
                </HBox>
            </VBox>

            <!-- Options -->
            <HBox spacing="20" alignment="CENTER" style="-fx-padding: 8 0;">
                <CheckBox fx:id="savePasswordCheckBox" text="Remember password"
                    style="-fx-font-size: 11px; -fx-text-fill: #4b5563;" />
                <CheckBox fx:id="autoConnectCheckBox" text="Auto-connect"
                    style="-fx-font-size: 11px; -fx-text-fill: #4b5563;" />
            </HBox>

            <!-- Buttons -->
            <HBox spacing="10" alignment="CENTER" style="-fx-padding: 4 0;">
                <Button fx:id="testConnectionButton" onAction="#testConnection" text="Test"
                    prefWidth="80" prefHeight="34"
                    style="-fx-background-color: #f59e0b; -fx-text-fill: white; -fx-background-radius: 4;
                           -fx-font-size: 12px; -fx-font-weight: 500; -fx-cursor: hand;" />

                <Button fx:id="connectButton" onAction="#connect" text="Connect"
                    prefWidth="100" prefHeight="34"
                    style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-background-radius: 4;
                           -fx-font-size: 12px; -fx-font-weight: 600; -fx-cursor: hand;" />

                <Button fx:id="cancelButton" onAction="#cancel" text="Cancel"
                    prefWidth="70" prefHeight="34"
                    style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-background-radius: 4;
                           -fx-font-size: 12px; -fx-font-weight: 500; -fx-cursor: hand;" />
            </HBox>

            <!-- Loading -->
            <StackPane>
                <ProgressIndicator fx:id="loadingSpinner" visible="false"
                    prefWidth="24" prefHeight="24"
                    style="-fx-progress-color: #4f46e5;" />
            </StackPane>

            <!-- Footer -->
            <Label text="Secure SFTP Client â€¢ Ensure server accessibility"
                style="-fx-font-size: 10px; -fx-text-fill: #9ca3af; -fx-padding: 8 0 0 0;" />
        </VBox>
    </center>
</BorderPane>